{% extends "base.html" %}

{% block title %}Trial Balance - ERP{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Trial Balance</h1>
    <div class="actions">
        <a href="{{ url_for('accounting.index') }}" class="btn btn-secondary">Chart of Accounts</a>
        <a href="{{ url_for('accounting.profit_loss') }}" class="btn btn-secondary">Profit &amp; Loss</a>
        <a href="{{ url_for('accounting.balance_sheet') }}" class="btn btn-secondary">Balance Sheet</a>
    </div>
</div>

<div class="card">
    <table>
        <thead>
            <tr>
                <th>Account Code</th>
                <th>Account Name</th>
                <th class="text-right">Debit</th>
                <th class="text-right">Credit</th>
            </tr>
        </thead>
        <tbody>
            {% for row in rows %}
            <tr>
                <td>{{ row.code }}</td>
                <td>{{ row.name }}</td>
                <td class="text-right">{% if row.debit %}${{ "%.2f"|format(row.debit) }}{% endif %}</td>
                <td class="text-right">{% if row.credit %}${{ "%.2f"|format(row.credit) }}{% endif %}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4" class="text-center">No balances to display.</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr style="font-weight: 700; border-top: 2px solid var(--text);">
                <td colspan="2" class="text-right">Totals</td>
                <td class="text-right">${{ "%.2f"|format(total_debit) }}</td>
                <td class="text-right">${{ "%.2f"|format(total_credit) }}</td>
            </tr>
        </tfoot>
    </table>
</div>
{% endblock %}
